# ===========================
# ğŸ”§ INFRA/CORE - ì¸í”„ë¼ í•µì‹¬ ì„¤ì •
# ===========================

# Database (ìƒëŒ€ê²½ë¡œ - í”„ë¡œì íŠ¸ ë£¨íŠ¸ ê¸°ì¤€)
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/database - SQLite ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ë° ìŠ¤í‚¤ë§ˆ ê´€ë¦¬ìš©
DATABASE_PATH=./data/graphapi.db

# Security
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/config, modules/account - ë°ì´í„° ì•”í˜¸í™”ìš©
# ìƒì„± ë°©ë²•: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your_encryption_key_here

# Logging
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/logger - ì „ì—­ ë¡œê¹… ë ˆë²¨ ì„¤ì •ìš©
LOG_LEVEL=INFO

# Network
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/oauth_client - HTTP ìš”ì²­ íƒ€ì„ì•„ì›ƒ ì„¤ì • (ì´ˆ ë‹¨ìœ„)
HTTP_TIMEOUT=30

# Token
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/token_service - í† í° ê°±ì‹  ì‹œì  ê²°ì •ìš© (ë¶„ ë‹¨ìœ„)
TOKEN_REFRESH_BUFFER_MINUTES=10

# Environment
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/config - ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ í™˜ê²½ êµ¬ë¶„ìš©
ENVIRONMENT=development



# ===========================
# ğŸ“© MODULES/DCR - Dynamic Client Registration OAuth
# ===========================
# DCR (Dynamic Client Registration) OAuth Configuration
# ì‚¬ìš© ëª¨ë“ˆ: modules/dcr_oauth - Claude Connector OAuth ì¸ì¦ìš©
# Claude Custom Connectorë¥¼ í†µí•œ MCP ì„œë²„ ì¸ì¦ì— í•„ìš”í•œ ì„¤ì •
#
# OAuth ì¸ì¦ í™œì„±í™” (true/false)
ENABLE_OAUTH_AUTH=false
#
# DCRì„ ìœ„í•œ Azure AD ì•± ì •ë³´ (ê³„ì •ë³„ ì„¤ì •ì´ ì—†ì„ ê²½ìš° ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©)
# Azure Portalì—ì„œ ì•± ë“±ë¡ í›„ ì–»ì€ ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”
# https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
DCR_AZURE_CLIENT_ID=your_azure_app_client_id
DCR_AZURE_CLIENT_SECRET=your_azure_app_client_secret
DCR_AZURE_TENANT_ID=common  # ë˜ëŠ” ì‹¤ì œ í…Œë„ŒíŠ¸ ID (ì˜ˆ: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)
DCR_OAUTH_REDIRECT_URI=https://your-server.trycloudflare.com/auth/callback
DCR_OAUTH_SCOPE=offline_access User.Read Mail.ReadWrite Mail.Send

# í—ˆìš©ëœ ì‚¬ìš©ì ëª©ë¡ (ì„ íƒì‚¬í•­)
# ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ì´ë©”ì¼ ëª©ë¡. ë¹„ì–´ìˆìœ¼ë©´ ëª¨ë“  ì‚¬ìš©ì í—ˆìš©
# ì˜ˆ: user1@company.com,user2@company.com,admin@company.com
DCR_ALLOWED_USERS=

# DCR OAuth ì¸ì¦ í›„ graphapi.db accounts í…Œì´ë¸” ë™ê¸°í™” í™œì„±í™”
# true: DCR ì¸ì¦ ì‹œ ìë™ìœ¼ë¡œ graphapi.dbì˜ accounts í…Œì´ë¸”ì— ê³„ì • ì •ë³´ ë™ê¸°í™”
# false: DCR ì¸ì¦ë§Œ í•˜ê³  graphapi.db ë™ê¸°í™” ê±´ë„ˆë›°ê¸°
ENABLE_DCR_ACCOUNT_SYNC=true



# ===========================
# ğŸ“© MODULES/ENROLLMENT - ê³„ì • ë“±ë¡ ëª¨ë“ˆ
# ===========================

ENROLLMENT_DIRECTORY=./enrollment

# ìë™ ê³„ì • ë“±ë¡ (ì„ íƒì‚¬í•­ - í™˜ê²½ë³€ìˆ˜ë¡œ ê³„ì • ì„¤ì • ì‹œ ì‚¬ìš©)
AUTO_REGISTER_USER_ID=your_user_id
AUTO_REGISTER_USER_NAME=Your Name
AUTO_REGISTER_EMAIL=your.email@example.com
AUTO_REGISTER_OAUTH_CLIENT_ID=your_azure_app_client_id
AUTO_REGISTER_OAUTH_CLIENT_SECRET=your_azure_app_client_secret
AUTO_REGISTER_OAUTH_TENANT_ID=common
AUTO_REGISTER_OAUTH_REDIRECT_URI=https://your-server.trycloudflare.com/enrollment/callback
AUTO_REGISTER_DELEGATED_PERMISSIONS=Mail.ReadWrite,Mail.Send,offline_access,Files.Read,Files.ReadWrite,Calendars.Read,Calendars.ReadWrite,Chat.Read,Chat.ReadWrite,Notes.Read,Notes.ReadWrite,Notes.Create

# ì¶”ê°€ ê¶Œí•œ ì˜ˆì‹œ:
# Files.ReadWrite.All,Sites.ReadWrite.All,Sites.Selected,Team.ReadBasic.All



# ===========================
# âš™ï¸ MODULES/MAIL_PROCESS - ë©”ì¼ ì²˜ë¦¬ ëª¨ë“ˆ
# ===========================

# Processing Limits
# ì‚¬ìš© ëª¨ë“ˆ: modules/mail_processor - ë©”ì¼ ì²˜ë¦¬ ì‹œ ìµœëŒ€ í‚¤ì›Œë“œ ìˆ˜
MAX_KEYWORDS_PER_MAIL=5
# ì‚¬ìš© ëª¨ë“ˆ: modules/mail_processor - ê³„ì •ë‹¹ ìµœëŒ€ ë©”ì¼ ì²˜ë¦¬ ìˆ˜
MAX_MAILS_PER_ACCOUNT=200
# ì‚¬ìš© ëª¨ë“ˆ: modules/mail_query - ì´ë©”ì¼ ì¡°íšŒ ë°°ì¹˜ í¬ê¸° ì„¤ì •ìš©
MAIL_BATCH_SIZE=100

# Filtering Rules
# ì‚¬ìš© ëª¨ë“ˆ: modules/mail_processor/mail_filter_service - ë©”ì¼ í•„í„°ë§ ê·œì¹™ ì„¤ì •ìš©
# ì°¨ë‹¨í•  ë„ë©”ì¸ ëª©ë¡ (ì‰¼í‘œë¡œ êµ¬ë¶„)
BLOCKED_DOMAINS=noreply.com,no-reply.com,donotreply.com,notifications.com,alerts.com
# ì°¨ë‹¨í•  í‚¤ì›Œë“œ ëª©ë¡ (ì‰¼í‘œë¡œ êµ¬ë¶„)
BLOCKED_KEYWORDS=ìŠ¤íŒ¸,ê´‘ê³ ,í™ë³´,ë§ˆì¼€íŒ…,unsubscribe,newsletter,promotion
# ì°¨ë‹¨í•  ë°œì‹ ì íŒ¨í„´ ëª©ë¡ (ì‰¼í‘œë¡œ êµ¬ë¶„)
BLOCKED_SENDER_PATTERNS=noreply@,no-reply@,donotreply@,auto-reply@,block@

# í•„í„°ë§ í™œì„±í™” ì—¬ë¶€
ENABLE_MAIL_FILTERING=true
# ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë°œì‹ ì íŒ¨í„´ ê²€ì‚¬ í™œì„±í™” ì—¬ë¶€
ENABLE_SUSPICIOUS_SENDER_CHECK=true



# ===========================
# ğŸ’¾ FILE STORAGE - íŒŒì¼ ì €ì¥ ì„¤ì •
# ===========================

# ì²¨ë¶€íŒŒì¼ ì €ì¥ ëª¨ë“œ (local, onedrive, sharepoint)
# local: ë¡œì»¬ filtered_attachments í´ë”ì— ì €ì¥
# onedrive: OneDriveì— ì—…ë¡œë“œ
# sharepoint: SharePoint í´ë”ì— ì—…ë¡œë“œ
ATTACHMENT_STORAGE_MODE=onedrive

# SharePoint í´ë” ê³µìœ  URL (attachmentManager ê¸°ë³¸ ì €ì¥ ìœ„ì¹˜)
# ë¹„ì–´ìˆìœ¼ë©´ ë¡œì»¬ filtered_attachments í´ë”ì—ë§Œ ì €ì¥
SHAREPOINT_FOLDER_URL=



# ===========================
# ğŸ¤– AI/ML - AI ì„œë¹„ìŠ¤ ì„¤ì • (ì„ íƒì‚¬í•­)
# ===========================

# OpenAI API Configuration
# ì‚¬ìš© ëª¨ë“ˆ: modules/keyword_extractor - í‚¤ì›Œë“œ ì¶”ì¶œ ë° í…ìŠ¤íŠ¸ ë¶„ì„ìš©
OPENAI_API_KEY=your_openai_api_key_here

# OpenRouter API Configuration
# ì‚¬ìš© ëª¨ë“ˆ: modules/mail_processor - ë©”ì¼ í‚¤ì›Œë“œ ì¶”ì¶œìš©
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_MODEL=openai/o3-mini
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1



# ===========================
# ğŸ“Š VECTOR DB - Qdrant ì„¤ì • (ì„ íƒì‚¬í•­)
# ===========================

# Qdrant Configuration
# ì‚¬ìš© ëª¨ë“ˆ: modules/templates/uploaders/vector_uploader - Qdrant ë²¡í„° DB ì„¤ì •
QDRANT_URL=localhost
QDRANT_PORT=6333
# ì‚¬ìš© ëª¨ë“ˆ: modules/templates/uploaders/vector_uploader - í…œí”Œë¦¿ ì €ì¥ìš© ì»¬ë ‰ì…˜ ì´ë¦„
# ê¸°ë³¸ê°’: query_templates_unified
QDRANT_COLLECTION_NAME=query_templates



# ===========================
# ğŸ“¨ KAFKA - ë©”ì‹œì§• ì„¤ì • (ì„ íƒì‚¬í•­)
# ===========================

# Kafka Configuration
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/kafka_client - ì´ë©”ì¼ ì´ë²¤íŠ¸ ë©”ì‹œì§•ìš©
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_EMAIL_EVENTS=email-raw-data

# Kafka Consumer Settings
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/kafka_client - Kafka ì»¨ìŠˆë¨¸ ê·¸ë£¹ ID
KAFKA_CONSUMER_GROUP_ID=mailquery-dev
# ì‚¬ìš© ëª¨ë“ˆ: infra/core/kafka_client - Kafka ì—°ê²° íƒ€ì„ì•„ì›ƒ ì„¤ì • (ì´ˆ ë‹¨ìœ„)
KAFKA_TIMEOUT=30



# ===========================
# ğŸ”§ LEGACY/DEPRECATED - ë ˆê±°ì‹œ ì„¤ì • (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
# ===========================

# OAuth Legacy Settings (enrollment ëª¨ë“ˆì—ì„œ AUTO_REGISTER_* ì‚¬ìš©)
# OAUTH_REDIRECT_PORT=5000
# OAUTH_REDIRECT_PATH=/auth/callback

# Mail History (í˜„ì¬ ë¯¸ì‚¬ìš©)
# ENABLE_MAIL_HISTORY=true
