{
  "module": "mail-query",
  "description": "Mail Query MCP 핸들러 테스트 케이스",
  "test_cases": [
    {
      "name": "help",
      "enabled": true,
      "tool": "help",
      "arguments": {
        "tool_name": ""
      },
      "expect": {
        "contains": ["MCP Mail Query Server", "Available Tools"]
      }
    },
    {
      "name": "query_email_help",
      "enabled": true,
      "tool": "query_email_help",
      "arguments": {},
      "expect": {
        "contains": ["query_email 툴 사용 가이드"]
      }
    },
    {
      "name": "query_email (days_back)",
      "enabled": true,
      "tool": "query_email",
      "arguments": {
        "user_id": "ejlee",
        "use_recent_account": false,
        "days_back": 3,
        "max_mails": 300,
        "include_body": false,
        "download_attachments": false,
        "save_emails": true,
        "save_csv": false,
        "start_date": "",
        "end_date": "",
        "sender_address": "",
        "subject_contains": "",
        "keyword": "",
        "keyword_filter": {},
        "recipient_address": "",
        "conversation_with": [],
        "output_format": "text",
        "query_context": {
          "is_first_query": true,
          "conversation_turn": 1,
          "previous_user_id": ""
        }
      },
      "expect": {
        "contains": ["메일 조회 결과", "인증이 필요합니다"]
      }
    },
    {
      "name": "query_email (날짜 지정)",
      "enabled": true,
      "tool": "query_email",
      "arguments": {
        "user_id": "ejlee",
        "use_recent_account": false,
        "days_back": 30,
        "max_mails": 300,
        "include_body": false,
        "download_attachments": false,
        "save_emails": true,
        "save_csv": false,
        "start_date": "2025-10-18",
        "end_date": "2025-10-20",
        "sender_address": "",
        "subject_contains": "",
        "keyword": "",
        "keyword_filter": {},
        "recipient_address": "",
        "conversation_with": [],
        "output_format": "text",
        "query_context": {
          "is_first_query": true,
          "conversation_turn": 1,
          "previous_user_id": ""
        }
      },
      "expect": {
        "contains": ["메일 조회 결과", "인증이 필요합니다"]
      }
    },
    {
      "name": "query_email (user_id null - 자동 선택)",
      "enabled": true,
      "tool": "query_email",
      "arguments": {
        "user_id": null,
        "use_recent_account": true,
        "days_back": 3,
        "max_mails": 300,
        "include_body": false,
        "download_attachments": false,
        "save_emails": true,
        "save_csv": false,
        "start_date": "",
        "end_date": "",
        "sender_address": "",
        "subject_contains": "",
        "keyword": "",
        "keyword_filter": {},
        "recipient_address": "",
        "conversation_with": [],
        "output_format": "text",
        "query_context": {
          "is_first_query": true,
          "conversation_turn": 1,
          "previous_user_id": ""
        }
      },
      "expect": {
        "contains": ["메일 조회 결과", "자동 선택", "인증이 필요합니다", "계정이 없습니다"]
      }
    },
    {
      "name": "query_email (subject_keywords)",
      "enabled": true,
      "tool": "query_email",
      "arguments": {
        "user_id": "ejlee",
        "use_recent_account": false,
        "days_back": 7,
        "max_mails": 300,
        "include_body": false,
        "download_attachments": false,
        "save_emails": true,
        "save_csv": false,
        "start_date": "",
        "end_date": "",
        "sender_address": "",
        "subject_contains": "중요",
        "keyword": "",
        "keyword_filter": {
          "or_keywords": ["중요", "긴급"]
        },
        "recipient_address": "",
        "conversation_with": [],
        "output_format": "text",
        "query_context": {
          "is_first_query": true,
          "conversation_turn": 1,
          "previous_user_id": ""
        }
      },
      "expect": {
        "contains": ["메일 조회 결과", "인증이 필요합니다"]
      }
    },
    {
      "name": "attachmentManager (PDF 검색)",
      "enabled": true,
      "tool": "attachmentManager",
      "arguments": {
        "user_id": "ejlee",
        "start_date": "2025-10-18",
        "end_date": "2025-10-20",
        "filename_keywords": ["pdf"],
        "save_paths": [],
        "save_enabled": false,
        "extract_text": false,
        "case_sensitive": false,
        "sender_filter": "",
        "subject_filter": ""
      },
      "expect": {
        "contains": ["첨부파일 관리 결과", "첨부파일 관리 완료", "인증이 필요합니다"]
      }
    },
    {
      "name": "attachmentManager (여러 키워드)",
      "enabled": true,
      "tool": "attachmentManager",
      "arguments": {
        "user_id": "ejlee",
        "start_date": "2025-10-01",
        "end_date": "2025-10-20",
        "filename_keywords": ["디지털트윈", "pdf", "xlsx"],
        "save_paths": [],
        "save_enabled": false,
        "extract_text": false,
        "case_sensitive": false,
        "sender_filter": "",
        "subject_filter": ""
      },
      "expect": {
        "contains": ["첨부파일 관리 결과", "첨부파일 관리 완료", "인증이 필요합니다"]
      }
    },
    {
      "name": "attachmentManager (파일 다운로드 - 운항설계영역)",
      "enabled": true,
      "tool": "attachmentManager",
      "arguments": {
        "user_id": "ejlee",
        "start_date": "2025-09-01",
        "end_date": "2025-10-18",
        "filename_keywords": ["운항설계영역"],
        "save_paths": [],
        "save_enabled": true,
        "extract_text": false,
        "case_sensitive": false,
        "sender_filter": "",
        "subject_filter": ""
      },
      "expect": {
        "contains": ["첨부파일 관리 결과", "저장된 파일", "인증이 필요합니다"]
      }
    }
  ]
}
