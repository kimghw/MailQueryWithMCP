services:
  - type: web
    name: mailquery-mcp-server
    runtime: python
    plan: free
    buildCommand: uv sync && echo "Build completed"
    startCommand: bash entrypoints/production/run_unified_http.sh --host 0.0.0.0 --port $PORT
    envVars:
      # ===========================
      # ğŸ”§ ë¹Œë“œ í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜
      # ===========================
      - key: PYTHON_VERSION
        value: "3.11.9"
      - key: UV_VERSION
        value: "0.7.12"
      - key: ENVIRONMENT
        value: "production"

      # ===========================
      # ğŸ”§ ê¸°ë³¸ ì„¤ì • (ì„ íƒì‚¬í•­)
      # ===========================
      - key: LOG_LEVEL
        value: "INFO"
      - key: DATABASE_PATH
        value: "./data/graphapi.db"
      - key: ENABLE_OAUTH_AUTH
        value: "true"


    healthCheckPath: /health
